원본: https://www.fusetools.com/docs/scripting/debugging

디버깅

이 안내서는 퓨즈와 함께 사용할 JavaScript 디버거를 설정하는 방법을 설명합니다. 미리보기를 실행하거나 일반 빌드를 실행할 때 V8 JavaScript 엔진을 사용하는 모든 대상을 디버그 할 수 있습니다. V8을 사용하지 않는 iOS 대상도 iOS 8 이상을 사용하는 경우 디버깅 할 수 있지만 디버깅 절차는 약간 다릅니다.

로컬 미리보기, DotNet 및 Android (V8)

이 작업을 수행하는 방법을 보여주는 비디오 자습서를 보려면 여기를 클릭하십시오.

V8 자바 스크립트 엔진을 사용하는 대상에는 Android, DotNet (로컬 미리보기 포함), OS X 및 Windows, OS X의 CMake 및 Windows의 MSVC가 포함됩니다.

퓨즈는 V8 자바 스크립트 엔진과 디버거 프로토콜을 사용합니다. -DDEBUG_V8을 사용하여 빌드 된 퓨즈 응용 프로그램은 로컬 소켓 (포트 5858)의 연결을 자동으로 수신합니다. V8 디버거 프로토콜을 사용하는 모든 디버거가 원칙적으로 작동해야하지만 Visual Studio 코드를 사용하는 것이 좋습니다.이 코드는 OS X 및 Windows.

설정

Visual Studio Code를 다운로드하여 설치하십시오.
(Android에만 해당) 기기의 포트 5858을 호스트로 전달합니다. 이는 퓨즈와 함께 번들로 제공되며 uno adb를 사용하여 호출 할 수있는 adb를 사용하여 수행 할 수 있습니다. 표준 퓨즈 설치 및 단일 안드로이드 장치가 연결된 상태에서 터미널 또는 명령 프롬프트에서 다음을 실행하십시오.

유엔 앞으로 전달 tcp : 5858 tcp : 5858
장치를 다시 연결할 때마다이 명령을 다시 실행해야 할 수 있습니다. 예를 들어 다음을 사용하여 전달을 삭제해야합니다. Android에서 완료 한 후 다른 대상을 디버그하려면 uno adb forward --remove-all을 사용하십시오. 그렇지 않으면 디버거 포트가 사용됩니다.

Visual Studio 코드에서 프로젝트 폴더를 엽니 다.
디버그 아이콘을 누릅니다. 녹색 삼각형 ( "재생"아이콘)을 클릭하고 디버그 환경으로 Node.js를 선택하십시오.
녹색 삼각형 옆에있는 드롭 다운 목록에서 연결을 선택하십시오.
디버거 시작

디버거를 추가하여 JavaScript 코드에 중단 점을 설정하십시오. 명령문이 실행될 위치에서 실행합니다. 예를 들어, 다음과 같이 자바 스크립트 코드의 맨 처음에 넣으십시오.

<자바 스크립트>
  디버거;
  ... 더 많은 코드
</ JavaScript>
또한 어떤 이벤트가 발생했을 때 휴식하는 것이 유용 할 수 있습니다 :

function someEvent () {
  디버거;
  ... 더 많은 코드
}
-DDEBUG_V8을 사용하여 앱을 빌드하고 실행하십시오. 예를 들어, 실행

퓨즈 미리보기. -DDEBUG_V8
현재 작업 디렉토리에서 로컬로 프로젝트를 미리 보거나

빌드하지 않음 --target = Android --run -DDEBUG_V8
Android에서 빌드하고 실행할 수 있습니다.

앱이 실행 중일 때 Visual Studio 코드의 녹색 삼각형을 눌러 디버거를 연결하십시오. Windows에서 Windows 방화벽이 앱에 대한 액세스를 요청하면 허용합니다.

이전에 추가 된 중단 점을 누르면 JS 코드가 일시 중지되고 Visual Studio 코드가 코드의 위치를 ​​표시하고 로컬 변수를보고 코드에 들어가고 계속 진행할 수 있습니다.
iOS

이 작업을 수행하는 방법을 보여주는 비디오 자습서를 보려면 여기를 클릭하십시오.

설정

기기가 iOS 8 이상을 사용하고 있는지 확인하십시오.
장치에서 Safari Web Inspector를 활성화하십시오. 이것은 Safari / Advanced / Web Inspector의 설정 응용 프로그램에서 수행됩니다.
호스트 컴퓨터의 Safari에서 개발 메뉴를 활성화하십시오. 이 작업은 메뉴 막대의 고급 / 쇼 개발 메뉴에서 Safari의 환경 설정 메뉴에서 수행됩니다.
디버거 시작

장치에서 프로젝트를 빌드하고 실행하십시오.
호스트 컴퓨터에서 Safari를 열고 메뉴 표시 줄에서 개발 메뉴를 클릭하십시오. 디바이스 뒤에 JSContext를 클릭 할 수있는 서브 메뉴가 있어야합니다. 그러면 앱의 JavaScript 코드를보고 디버그 할 수있는 Web Inspector 인스턴스가 열립니다.